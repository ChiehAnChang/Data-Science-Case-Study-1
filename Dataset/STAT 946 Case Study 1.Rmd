---
title: "STAT 946 Case Study 1"
author: "Andy, Erick, Henry, Jason, Peter"
date: "2026-01-10"
output: pdf_document
---

# 1 Datasets

## 1.1 Air Pollutant Data

### 1.1.1 Ontario:

The Ontario Air Pollutant Data was obtained from the following URL: https://www.airqualityontario.com/history/index.php.  
It is published by the Government of Ontario. We restrict the downloaded data to only contain the particular pollutant that we care about, which is PM2.5.

Each row of the dataset represents an observation by a station with multiple dates from January to December, recorded day by day.  
For the columns, the following table demonstrates the meaning of each column.

| Feature name | Definition |
|-------------|------------|
| Station ID | A unique identifier for the station where PM2.5 measurements were recorded. It is an integer object. |
| Pollutant | Here, it is always assigned to fine particulate matter for PM2.5 measurement. It is a redundant column where all rows have the same value and could be further removed. It is a string object. |
| Date | The date of the measurements in Ontario time. It is represented in the format YYYY-MM-DD. It should be a date object. |
| HXX | Measurement of PM2.5 from XX:00 to XX:59, where XX represents 01 to 24. The value 24 is an exception, where H24 corresponds to 00:00 to 00:59. It should be a datetime object. |

For this dataset, it is not difficult to obtain year-by-year data, as it is easy to download by year and each file contains all the dates for that year. However, if we want the full dataset from 2010 to 2024, further merging of the datasets is required.

### 1.1.2 British Columbia:

### 1.1.3 Alberta:

### 1.1.4 Winnipeg, Manitoba:

## 1.2 Meteorological Data

### 1.2.1 Canada:

## 1.3 Traffic Data

### 1.3.1 Statistics Canada:

### 1.3.2 Government of Canada:

### 1.3.3 Québec (in French):

## 1.4 International Data

### 1.4.1 Beijing:

### 1.4.2 Shenzhen:
This Dataset was obtained from the following URL: https://www.microsoft.com/en-us/research/project/urban-air/
It is published by Urban Air Project (Urban Computing Team, Microsoft Research) 

The Dataset  is comprised of six parts of data that were collected  over a period of one year (from 2014/05/01 to 2015/04/30), named city data, district data, air 
quality station data, air quality data, meteorological data and weather forecast data, respectively. This dataset 
covers 4 major Chinese cities (Beijing, Tianjin, Guangzhou and Shenzhen) and 39 adjacent cities within 300 
kilometers to them. Each city is associated with a geo-location denoted by (latitude, longitude), containing a set 
of districts. In total, there are 2,891,393 air quality records, 1,898,453 (real-time) meteorology records, and 
910,576 weather forecast records. Air quality is recorded at 437 air quality stations every hour. The real-time 
meteorological data are collected at a district (or city) level every hour. Weather forecast has a district (or city)
level record of two coming days, with a temporal granularity of 3 hour, or 6 hour, or 12 hour. The feature definitions of each part of data are described as follows.

#### 1. City Data (`city.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **City ID** | A 3-digit number representing the unique identifier for a city. |
| **Chinese Name** | The name of the city in Chinese. |
| **English Name** | The Chinese Pinyin corresponding to the city's Chinese Name. |
| **Latitude** | The latitude coordinate of the city center (chosen as the town hall). |
| **Longitude** | The longitude coordinate of the city center (chosen as the town hall). |
| **Cluster ID** | Indicates the city cluster: `1` for 'Cluster A' (near Beijing) and `2` for 'Cluster B' (near Guangzhou). |

#### 2. District Data (`district.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **District ID** | A 5-digit number representing the district; the first 3 digits correspond to the City ID. |
| **Chinese Name** | The name of the district in Chinese. |
| **English Name** | The Chinese Pinyin corresponding to the district's Chinese Name. |
| **City ID** | The identifier of the city to which the district belongs. |

#### 3. Air Quality Monitoring Station Data (`station.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **Station ID** | A 6-digit number representing the station; the first 3 digits correspond to the City ID. |
| **Chinese Name** | The name of the station in Chinese. |
| **English Name** | The Chinese Pinyin corresponding to the station's Chinese Name. |
| **Latitude** | The latitude coordinate of the station. |
| **Longitude** | The longitude coordinate of the station. |
| **District ID** | The identifier of the district to which the station belongs; used to link meteorology and forecast data. |

#### 4. Air Quality Data (`airquality.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **Station ID** | The identifier for the air quality monitoring station. |
| **Time** | The timestamp of the air quality record. |
| **PM25** | Concentration of PM2.5 in ug/m³. |
| **PM10** | Concentration of PM10 in ug/m³. |
| **NO2** | Concentration of Nitrogen Dioxide in ug/m³. |
| **CO** | Concentration of Carbon Monoxide in mg/m³. |
| **O3** | Concentration of Ozone in ug/m³. |
| **SO2** | Concentration of Sulfur Dioxide in ug/m³. |

#### 5. Meteorology Data (`meteorology.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **ID** | Corresponds to either the District ID or City ID. |
| **Time** | The timestamp of the meteorological record. |
| **Weather** | A code (0-16) representing weather conditions (e.g., 0=Sunny, 1=Cloudy, 2=Overcast, 3=Rainy, etc.). |
| **Temperature** | The temperature in Celsius ($^\circ$C). |
| **Pressure** | The surface pressure in hPa. |
| **Humidity** | The relative humidity percentage. |
| **Wind Speed** | The speed of the wind in meters per second ($m/s$). |
| **Wind Direction** | A code (0-24) representing wind direction (e.g., 0=No wind, 1=East, 2=West, 3=South, 4=North, etc.). |

#### 6. Weather Forecast Data (`weatherforecast.csv`)

| Feature Name | Definition |
| :--- | :--- |
| **ID** | Corresponds to either the District ID or City ID. |
| **Forecast Time** | The time at which the forecast was issued. |
| **Future Time** | The future time for which the weather is predicted. |
| **Temporal Granularity** | The updating frequency/interval of the forecast (3, 6, or 12 hours). |
| **Weather** | Predicted weather condition code; same definitions as in Meteorology data. |
| **Up Temperature** | The upper bound/high temperature forecast. |
| **Bottom Temperature** | The lower bound/low temperature forecast. |
| **Wind Level** | The median value representing the wind level (e.g., 3.5 is used for level 3-4). |
| **Wind Direction** | Predicted wind direction code; same definitions as in Meteorology data. |

### 1.4.3 KnowAir:

The KnowAir dataset was obtained from the following URL: https://zenodo.org/records/15614907.
It is published by Wang et al. (2025). 

The dataset contains air quality data collected from two major, densely populated regions in China, recorded hourly from 2016 to 2023:
- The Beijing-Tianjin-Hebei and Surrounding Areas BTHSA, with data from 228 monitoring stations.
- The Yangtze River Delta YRD, with data from 127 monitoring stations.

The dataset contains 2 csv files that describe the coordiates of the monitoring stations and 2 NetCDF (.nc) files that contain the hourly air quality data for each region. The NetCDF files are collections of aligned 2-D arrays that all share the same coordinates (time x station ID). Each 2-D array represents a different air quality variable, such as PM2.5 concentration, Ozone, etc. The following tables demonstrates the meaning of each variable in the 4 files.

####  Dataset dictionary (`dataset_bthsa.nc and dataset_yrd.nc`)

| Feature | Definition |
|----------|----------|
|Coordinates: 
| **time**   |  datetime64: 2016-01-01T00:00:00.000000000 to 2023-12-31T23:00:00.000000000   |
| **station**   |  |
|Air Quality Variables from CNEMC: |
| **PM2.5** | Fine particulate matter | 
| **O3** | Ozone | 
|Meteorological Variables from ERA5 Reanalysis:
|**t2m**| 2-meter air temperature | 
|**d2m**| 2-meter dew point temperature | 
|**tp**| Total precipitation | 
|**sp**| Surface pressure | 
|**blh**| Boundary layer height | 
|**msdwswrf**| Mean surface downward short-wave radiation flux | 
|**u100**| U-component of wind at 100m | 
|**v100**| V-component of wind at 100m | 

#### station Dictionary (`station_bthsa.csv and station_yrd.csv`)
| Feature | Definition |
|----------|----------|
| **station_id**   |  station id   |
| **station_name**   | chinese name |   
| **city** | chinese name of the city the station is in |
| **city_en** | english name of the city the station is in |
| **lon** | longitude of the station |
| **lat** | latitude of the station |

