---
title: "STAT 946 Case Study 1"
author: "Andy, Erick, Henry, Jason, Peter"
date: "2026-01-10"
output: pdf_document
---

# 1 Datasets

## 1.1 Air Pollutant Data

### 1.1.1 Ontario:

The Ontario Air Pollutant Data was obtained from the following URL: https://www.airqualityontario.com/history/index.php.  
It is published by the Government of Ontario. We restrict the downloaded data to only contain the particular pollutant that we care about, which is PM2.5.

Each row of the dataset represents an observation by a station with multiple dates from January to December, recorded day by day.  
For the columns, the following table demonstrates the meaning of each column.

| Feature name | Definition |
|-------------|------------|
| Station ID | A unique identifier for the station where PM2.5 measurements were recorded. It is an integer object. |
| Pollutant | Here, it is always assigned to fine particulate matter for PM2.5 measurement. It is a redundant column where all rows have the same value and could be further removed. It is a string object. |
| Date | The date of the measurements in Ontario time. It is represented in the format YYYY-MM-DD. It should be a date object. |
| HXX | Measurement of PM2.5 from XX:00 to XX:59, where XX represents 01 to 24. The value 24 is an exception, where H24 corresponds to 00:00 to 00:59. It should be a datetime object. |

For this dataset, it is not difficult to obtain year-by-year data, as it is easy to download by year and each file contains all the dates for that year. However, if we want the full dataset from 2010 to 2024, further merging of the datasets is required.

### 1.1.2 British Columbia:

### 1.1.3 Alberta:

The Alberta Air Pollutant Data was obtained from the Alberta Data Management Platform, available at:
https://datamanagementplatform.alberta.ca/Ambient

The data is operated and reported by community-based, multi-stakeholder organizations (commonly referred to as airsheds) as well as the Government of Alberta. These organizations are responsible for monitoring ambient air quality across Alberta and submitting station-level observations to the platform.

The data is subject to change at any time, as records may be further reviewed, corrected, or resubmitted by the reporting organizations. In addition, only data that has been officially submitted is available for download, and the displayed results depend on the selected search and filtering criteria.

Each row in the dataset represents a single observation from a monitoring station at a specific date and time for a given pollutant. Unlike the Ontario dataset, the Alberta data is stored in a vertical (long) format, where measurements for different parameters and timestamps are recorded as separate rows rather than as multiple hourly columns.
The dataset includes, but is not limited to, the following key variables:

| Feature name | Definition                                                                   |
| ------------ | ---------------------------------------------------------------------------- |
| Station ID   | A unique identifier for the air monitoring station.                          |
| Station Name | The name of the monitoring station operated by an airshed or the government. |
| Parameter    | The air pollutant or environmental parameter being measured (e.g., PM2.5).   |
| DateTime     | The date and time at which the observation was recorded.                     |
| Value        | The measured concentration of the pollutant at the given time.               |
| Units        | The unit of measurement associated with the parameter.                       |

From a technical perspective, collecting the Alberta data requires additional processing. Rather than downloading a single consolidated file, data must be retrieved station by station based on filtering criteria such as operator type and available parameters. To handle this efficiently and reproducibly, a Python-based web scraping program was used to automate the download process. The script iterates over all eligible stations, retrieves their corresponding datasets, and compiles a master table that serves as a directory of all stations meeting the project requirements.

### 1.1.4 Winnipeg, Manitoba:

The Winnipeg Air Quality Data was obtained from the City of Winnipeg Open Data Portal, available at:
https://data.winnipeg.ca/Organizational-Support-Services/Air-Quality-deprecated-/f58p-2ju3/about_data

The dataset was published and maintained by the City of Winnipeg. The data records air quality measurements collected across Winnipeg, Manitoba, through a network of environmental sensors deployed throughout the city.

According to the data source, this dataset is currently marked as deprecated due to issues with the underlying data source, and it is no longer actively maintained. However, updates may resume in the future if a new data source is procured. Despite this designation, the dataset was last updated on November 26, 2025, and therefore remains valuable for historical analysis and recent trend exploration.

Each row in the dataset represents a single observation recorded at a specific location and time. Measurements are collected at 5-minute intervals, resulting in a large, high-frequency time-series dataset.
The dataset includes the following key variables:

| Feature name     | Definition                                                                               |
| ---------------- | ---------------------------------------------------------------------------------------- |
| ObservationID    | A unique identifier for each recorded observation.                                       |
| ObservationTime  | The date and time when the measurement was recorded.                                     |
| ThingID          | An identifier associated with the sensing device.                                        |
| LocationName     | The name of the monitoring location within Winnipeg.                                     |
| MeasurementType  | The type of environmental measurement (e.g., PM2.5 particulates, temperature, humidity). |
| MeasurementValue | The recorded value of the measurement.                                                   |
| MeasurementUnit  | The unit associated with the measurement value.                                          |
| Location         | Geographic coordinates of the monitoring station.                                        |
| Point            | Spatial point representation of the station location.                                    |

Data collection for Winnipeg is relatively straightforward. All records are integrated into a single, centralized table that can be downloaded directly from the data portal without the need for station-by-station retrieval or automated scraping.

## 1.2 Meteorological Data

### 1.2.1 Canada:

## 1.3 Traffic Data

### 1.3.1 Statistics Canada:

### 1.3.2 Government of Canada:

### 1.3.3 Qu√©bec (in French):

## 1.4 International Data

### 1.4.1 Beijing:

### 1.4.2 Shenzhen:

### 1.4.3 KnowAir:

The KnowAir dataset was obtained from the following URL: https://zenodo.org/records/15614907.
It is published by Wang et al. (2025). 

The dataset contains air quality data collected from two major, densely populated regions in China, recorded hourly from 2016 to 2023:
- The Beijing-Tianjin-Hebei and Surrounding Areas BTHSA, with data from 228 monitoring stations.
- The Yangtze River Delta YRD, with data from 127 monitoring stations.

The dataset contains 2 csv files that descibe the coordiates of the monitoring stations and 2 NetCDF files that contain the hourly air quality data for each region. The NetCDF files are collections of aligned 2-D arrays that all share the same coordinates time x station ID. Each 2-D array represents a different air quality variable, such as PM2.5 concentration, Ozone, etc. The following tables demonstrates the meaning of each variable in the 4 files.

####  Dataset dictionary

| Feature | Definition |
|----------|----------|
|Coordinates: 
| time   |  datetime64: 2016-01-01T00:00:00.000000000 to 2023-12-31T23:00:00.000000000   |
| station   |  |
|Air Quality Variables from CNEMC: |
| PM2.5 | Fine particulate matter | 
|O3 | Ozone | 
|Meteorological Variables from ERA5 Reanalysis:
|t2m| 2-meter air temperature | 
|d2m| 2-meter dew point temperature | 
|tp| Total precipitation | 
|sp| Surface pressure | 
|blh| Boundary layer height | 
|msdwswrf| Mean surface downward short-wave radiation flux | 
|u100| U-component of wind at 100m | 
|v100| V-component of wind at 100m | 

#### station Dictionary
| Feature | Definition |
|----------|----------|
| station_id   |  station id   |
| station_name   | chinese name |   
| city | chinese name of the city the station is in |
| city_en | english name of the city the station is in |
| lon | longitude of the station |
| lat | latitude of the station |

